"use strict";var _r=Object.create;var Pe=Object.defineProperty;var Wr=Object.getOwnPropertyDescriptor;var jr=Object.getOwnPropertyNames;var Jr=Object.getPrototypeOf,Mr=Object.prototype.hasOwnProperty;var d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Hr=(e,t)=>{for(var n in t)Pe(e,n,{get:t[n],enumerable:!0})},ht=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of jr(t))!Mr.call(e,i)&&i!==n&&Pe(e,i,{get:()=>t[i],enumerable:!(r=Wr(t,i))||r.enumerable});return e};var We=(e,t,n)=>(n=e!=null?_r(Jr(e)):{},ht(t||!e||!e.__esModule?Pe(n,"default",{value:e,enumerable:!0}):n,e)),Ur=e=>ht(Pe({},"__esModule",{value:!0}),e);var D=d(Je=>{"use strict";Je.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((n,r)=>{e.call(this,...t,(i,o)=>i!=null?r(i):n(o))})},"name",{value:e.name})};Je.fromPromise=function(e){return Object.defineProperty(function(...t){let n=t[t.length-1];if(typeof n!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(r=>n(null,r),n)},"name",{value:e.name})}});var xt=d((gs,Ft)=>{var Y=require("constants"),Br=process.cwd,be=null,Xr=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return be||(be=Br.call(process)),be};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Me=process.chdir,process.chdir=function(e){be=null,Me.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Me));var Me;Ft.exports=Yr;function Yr(e){Y.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||n(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=r(e.chmod),e.fchmod=r(e.fchmod),e.lchmod=r(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=l(e.stat),e.fstat=l(e.fstat),e.lstat=l(e.lstat),e.statSync=F(e.statSync),e.fstatSync=F(e.fstatSync),e.lstatSync=F(e.lstatSync),e.lchmod||(e.lchmod=function(a,f,u){u&&process.nextTick(u)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(a,f,u,c){c&&process.nextTick(c)},e.lchownSync=function(){}),Xr==="win32"&&(e.rename=function(a){return function(f,u,c){var p=Date.now(),S=0;a(f,u,function y(k){if(k&&(k.code==="EACCES"||k.code==="EPERM")&&Date.now()-p<6e4){setTimeout(function(){e.stat(u,function(b,le){b&&b.code==="ENOENT"?a(f,u,y):c(k)})},S),S<100&&(S+=10);return}c&&c(k)})}}(e.rename)),e.read=function(a){function f(u,c,p,S,y,k){var b;if(k&&typeof k=="function"){var le=0;b=function(Te,dt,yt){if(Te&&Te.code==="EAGAIN"&&le<10)return le++,a.call(e,u,c,p,S,y,b);k.apply(this,arguments)}}return a.call(e,u,c,p,S,y,b)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,a),f}(e.read),e.readSync=function(a){return function(f,u,c,p,S){for(var y=0;;)try{return a.call(e,f,u,c,p,S)}catch(k){if(k.code==="EAGAIN"&&y<10){y++;continue}throw k}}}(e.readSync);function t(a){a.lchmod=function(f,u,c){a.open(f,Y.O_WRONLY|Y.O_SYMLINK,u,function(p,S){if(p){c&&c(p);return}a.fchmod(S,u,function(y){a.close(S,function(k){c&&c(y||k)})})})},a.lchmodSync=function(f,u){var c=a.openSync(f,Y.O_WRONLY|Y.O_SYMLINK,u),p=!0,S;try{S=a.fchmodSync(c,u),p=!1}finally{if(p)try{a.closeSync(c)}catch{}else a.closeSync(c)}return S}}function n(a){Y.hasOwnProperty("O_SYMLINK")?(a.lutimes=function(f,u,c,p){a.open(f,Y.O_SYMLINK,function(S,y){if(S){p&&p(S);return}a.futimes(y,u,c,function(k){a.close(y,function(b){p&&p(k||b)})})})},a.lutimesSync=function(f,u,c){var p=a.openSync(f,Y.O_SYMLINK),S,y=!0;try{S=a.futimesSync(p,u,c),y=!1}finally{if(y)try{a.closeSync(p)}catch{}else a.closeSync(p)}return S}):(a.lutimes=function(f,u,c,p){p&&process.nextTick(p)},a.lutimesSync=function(){})}function r(a){return a&&function(f,u,c){return a.call(e,f,u,function(p){W(p)&&(p=null),c&&c.apply(this,arguments)})}}function i(a){return a&&function(f,u){try{return a.call(e,f,u)}catch(c){if(!W(c))throw c}}}function o(a){return a&&function(f,u,c,p){return a.call(e,f,u,c,function(S){W(S)&&(S=null),p&&p.apply(this,arguments)})}}function s(a){return a&&function(f,u,c){try{return a.call(e,f,u,c)}catch(p){if(!W(p))throw p}}}function l(a){return a&&function(f,u,c){typeof u=="function"&&(c=u,u=null);function p(S,y){y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),c&&c.apply(this,arguments)}return u?a.call(e,f,u,p):a.call(e,f,p)}}function F(a){return a&&function(f,u){var c=u?a.call(e,f,u):a.call(e,f);return c&&(c.uid<0&&(c.uid+=4294967296),c.gid<0&&(c.gid+=4294967296)),c}}function W(a){if(!a||a.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(a.code==="EINVAL"||a.code==="EPERM"))}}});var Tt=d((Fs,kt)=>{var vt=require("stream").Stream;kt.exports=Vr;function Vr(e){return{ReadStream:t,WriteStream:n};function t(r,i){if(!(this instanceof t))return new t(r,i);vt.call(this);var o=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),l=0,F=s.length;l<F;l++){var W=s[l];this[W]=i[W]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(a,f){if(a){o.emit("error",a),o.readable=!1;return}o.fd=f,o.emit("open",f),o._read()})}function n(r,i){if(!(this instanceof n))return new n(r,i);vt.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,l=o.length;s<l;s++){var F=o[s];this[F]=i[F]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var bt=d((xs,Pt)=>{"use strict";Pt.exports=Qr;var Kr=Object.getPrototypeOf||function(e){return e.__proto__};function Qr(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:Kr(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}});var re=d((vs,Ge)=>{var x=require("fs"),zr=xt(),Zr=Tt(),ei=bt(),De=require("util"),q,Ce;typeof Symbol=="function"&&typeof Symbol.for=="function"?(q=Symbol.for("graceful-fs.queue"),Ce=Symbol.for("graceful-fs.previous")):(q="___graceful-fs.queue",Ce="___graceful-fs.previous");function ti(){}function Ct(e,t){Object.defineProperty(e,q,{get:function(){return t}})}var z=ti;De.debuglog?z=De.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(z=function(){var e=De.format.apply(De,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});x[q]||(Dt=global[q]||[],Ct(x,Dt),x.close=function(e){function t(n,r){return e.call(x,n,function(i){i||Et(),typeof r=="function"&&r.apply(this,arguments)})}return Object.defineProperty(t,Ce,{value:e}),t}(x.close),x.closeSync=function(e){function t(n){e.apply(x,arguments),Et()}return Object.defineProperty(t,Ce,{value:e}),t}(x.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){z(x[q]),require("assert").equal(x[q].length,0)}));var Dt;global[q]||Ct(global,x[q]);Ge.exports=He(ei(x));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!x.__patched&&(Ge.exports=He(x),x.__patched=!0);function He(e){zr(e),e.gracefulify=He,e.createReadStream=Te,e.createWriteStream=dt;var t=e.readFile;e.readFile=n;function n(m,w,h){return typeof w=="function"&&(h=w,w=null),C(m,w,h);function C(I,A,T,O){return t(I,A,function(g){g&&(g.code==="EMFILE"||g.code==="ENFILE")?ne([C,[I,A,T],g,O||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}var r=e.writeFile;e.writeFile=i;function i(m,w,h,C){return typeof h=="function"&&(C=h,h=null),I(m,w,h,C);function I(A,T,O,g,j){return r(A,T,O,function(P){P&&(P.code==="EMFILE"||P.code==="ENFILE")?ne([I,[A,T,O,g],P,j||Date.now(),Date.now()]):typeof g=="function"&&g.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=s);function s(m,w,h,C){return typeof h=="function"&&(C=h,h=null),I(m,w,h,C);function I(A,T,O,g,j){return o(A,T,O,function(P){P&&(P.code==="EMFILE"||P.code==="ENFILE")?ne([I,[A,T,O,g],P,j||Date.now(),Date.now()]):typeof g=="function"&&g.apply(this,arguments)})}}var l=e.copyFile;l&&(e.copyFile=F);function F(m,w,h,C){return typeof h=="function"&&(C=h,h=0),I(m,w,h,C);function I(A,T,O,g,j){return l(A,T,O,function(P){P&&(P.code==="EMFILE"||P.code==="ENFILE")?ne([I,[A,T,O,g],P,j||Date.now(),Date.now()]):typeof g=="function"&&g.apply(this,arguments)})}}var W=e.readdir;e.readdir=a;function a(m,w,h){return typeof w=="function"&&(h=w,w=null),C(m,w,h);function C(I,A,T,O){return W(I,A,function(g,j){g&&(g.code==="EMFILE"||g.code==="ENFILE")?ne([C,[I,A,T],g,O||Date.now(),Date.now()]):(j&&j.sort&&j.sort(),typeof T=="function"&&T.call(this,g,j))})}}if(process.version.substr(0,4)==="v0.8"){var f=Zr(e);y=f.ReadStream,b=f.WriteStream}var u=e.ReadStream;u&&(y.prototype=Object.create(u.prototype),y.prototype.open=k);var c=e.WriteStream;c&&(b.prototype=Object.create(c.prototype),b.prototype.open=le),Object.defineProperty(e,"ReadStream",{get:function(){return y},set:function(m){y=m},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return b},set:function(m){b=m},enumerable:!0,configurable:!0});var p=y;Object.defineProperty(e,"FileReadStream",{get:function(){return p},set:function(m){p=m},enumerable:!0,configurable:!0});var S=b;Object.defineProperty(e,"FileWriteStream",{get:function(){return S},set:function(m){S=m},enumerable:!0,configurable:!0});function y(m,w){return this instanceof y?(u.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function k(){var m=this;_e(m.path,m.flags,m.mode,function(w,h){w?(m.autoClose&&m.destroy(),m.emit("error",w)):(m.fd=h,m.emit("open",h),m.read())})}function b(m,w){return this instanceof b?(c.apply(this,arguments),this):b.apply(Object.create(b.prototype),arguments)}function le(){var m=this;_e(m.path,m.flags,m.mode,function(w,h){w?(m.destroy(),m.emit("error",w)):(m.fd=h,m.emit("open",h))})}function Te(m,w){return new e.ReadStream(m,w)}function dt(m,w){return new e.WriteStream(m,w)}var yt=e.open;e.open=_e;function _e(m,w,h,C){return typeof h=="function"&&(C=h,h=null),I(m,w,h,C);function I(A,T,O,g,j){return yt(A,T,O,function(P,ys){P&&(P.code==="EMFILE"||P.code==="ENFILE")?ne([I,[A,T,O,g],P,j||Date.now(),Date.now()]):typeof g=="function"&&g.apply(this,arguments)})}}return e}function ne(e){z("ENQUEUE",e[0].name,e[1]),x[q].push(e),Ue()}var Ee;function Et(){for(var e=Date.now(),t=0;t<x[q].length;++t)x[q][t].length>2&&(x[q][t][3]=e,x[q][t][4]=e);Ue()}function Ue(){if(clearTimeout(Ee),Ee=void 0,x[q].length!==0){var e=x[q].shift(),t=e[0],n=e[1],r=e[2],i=e[3],o=e[4];if(i===void 0)z("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-i>=6e4){z("TIMEOUT",t.name,n);var s=n.pop();typeof s=="function"&&s.call(null,r)}else{var l=Date.now()-o,F=Math.max(o-i,1),W=Math.min(F*1.2,100);l>=W?(z("RETRY",t.name,n),t.apply(null,n.concat([i]))):x[q].push(e)}Ee===void 0&&(Ee=setTimeout(Ue,0))}}});var L=d(B=>{"use strict";var It=D().fromCallback,R=re(),ni=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof R[e]=="function");Object.assign(B,R);ni.forEach(e=>{B[e]=It(R[e])});B.exists=function(e,t){return typeof t=="function"?R.exists(e,t):new Promise(n=>R.exists(e,n))};B.read=function(e,t,n,r,i,o){return typeof o=="function"?R.read(e,t,n,r,i,o):new Promise((s,l)=>{R.read(e,t,n,r,i,(F,W,a)=>{if(F)return l(F);s({bytesRead:W,buffer:a})})})};B.write=function(e,t,...n){return typeof n[n.length-1]=="function"?R.write(e,t,...n):new Promise((r,i)=>{R.write(e,t,...n,(o,s,l)=>{if(o)return i(o);r({bytesWritten:s,buffer:l})})})};B.readv=function(e,t,...n){return typeof n[n.length-1]=="function"?R.readv(e,t,...n):new Promise((r,i)=>{R.readv(e,t,...n,(o,s,l)=>{if(o)return i(o);r({bytesRead:s,buffers:l})})})};B.writev=function(e,t,...n){return typeof n[n.length-1]=="function"?R.writev(e,t,...n):new Promise((r,i)=>{R.writev(e,t,...n,(o,s,l)=>{if(o)return i(o);r({bytesWritten:s,buffers:l})})})};typeof R.realpath.native=="function"?B.realpath.native=It(R.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var qt=d((Ts,At)=>{"use strict";var ri=require("path");At.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(ri.parse(t).root,""))){let r=new Error(`Path contains invalid characters: ${t}`);throw r.code="EINVAL",r}}});var Lt=d((Ps,Be)=>{"use strict";var Nt=L(),{checkPath:Ot}=qt(),Rt=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};Be.exports.makeDir=async(e,t)=>(Ot(e),Nt.mkdir(e,{mode:Rt(t),recursive:!0}));Be.exports.makeDirSync=(e,t)=>(Ot(e),Nt.mkdirSync(e,{mode:Rt(t),recursive:!0}))});var U=d((bs,$t)=>{"use strict";var ii=D().fromPromise,{makeDir:oi,makeDirSync:Xe}=Lt(),Ye=ii(oi);$t.exports={mkdirs:Ye,mkdirsSync:Xe,mkdirp:Ye,mkdirpSync:Xe,ensureDir:Ye,ensureDirSync:Xe}});var V=d((Ds,Wt)=>{"use strict";var si=D().fromPromise,_t=L();function ai(e){return _t.access(e).then(()=>!0).catch(()=>!1)}Wt.exports={pathExists:si(ai),pathExistsSync:_t.existsSync}});var Ve=d((Es,jt)=>{"use strict";var ie=L(),ci=D().fromPromise;async function li(e,t,n){let r=await ie.open(e,"r+"),i=null;try{await ie.futimes(r,t,n)}finally{try{await ie.close(r)}catch(o){i=o}}if(i)throw i}function ui(e,t,n){let r=ie.openSync(e,"r+");return ie.futimesSync(r,t,n),ie.closeSync(r)}jt.exports={utimesMillis:ci(li),utimesMillisSync:ui}});var Z=d((Cs,Ut)=>{"use strict";var oe=L(),E=require("path"),Jt=D().fromPromise;function mi(e,t,n){let r=n.dereference?i=>oe.stat(i,{bigint:!0}):i=>oe.lstat(i,{bigint:!0});return Promise.all([r(e),r(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,o])=>({srcStat:i,destStat:o}))}function fi(e,t,n){let r,i=n.dereference?s=>oe.statSync(s,{bigint:!0}):s=>oe.lstatSync(s,{bigint:!0}),o=i(e);try{r=i(t)}catch(s){if(s.code==="ENOENT")return{srcStat:o,destStat:null};throw s}return{srcStat:o,destStat:r}}async function pi(e,t,n,r){let{srcStat:i,destStat:o}=await mi(e,t,r);if(o){if(ue(i,o)){let s=E.basename(e),l=E.basename(t);if(n==="move"&&s!==l&&s.toLowerCase()===l.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Ke(e,t))throw new Error(Ie(e,t,n));return{srcStat:i,destStat:o}}function di(e,t,n,r){let{srcStat:i,destStat:o}=fi(e,t,r);if(o){if(ue(i,o)){let s=E.basename(e),l=E.basename(t);if(n==="move"&&s!==l&&s.toLowerCase()===l.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Ke(e,t))throw new Error(Ie(e,t,n));return{srcStat:i,destStat:o}}async function Mt(e,t,n,r){let i=E.resolve(E.dirname(e)),o=E.resolve(E.dirname(n));if(o===i||o===E.parse(o).root)return;let s;try{s=await oe.stat(o,{bigint:!0})}catch(l){if(l.code==="ENOENT")return;throw l}if(ue(t,s))throw new Error(Ie(e,n,r));return Mt(e,t,o,r)}function Ht(e,t,n,r){let i=E.resolve(E.dirname(e)),o=E.resolve(E.dirname(n));if(o===i||o===E.parse(o).root)return;let s;try{s=oe.statSync(o,{bigint:!0})}catch(l){if(l.code==="ENOENT")return;throw l}if(ue(t,s))throw new Error(Ie(e,n,r));return Ht(e,t,o,r)}function ue(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Ke(e,t){let n=E.resolve(e).split(E.sep).filter(i=>i),r=E.resolve(t).split(E.sep).filter(i=>i);return n.every((i,o)=>r[o]===i)}function Ie(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}Ut.exports={checkPaths:Jt(pi),checkPathsSync:di,checkParentPaths:Jt(Mt),checkParentPathsSync:Ht,isSrcSubdir:Ke,areIdentical:ue}});var Vt=d((Is,Yt)=>{"use strict";var N=L(),me=require("path"),{mkdirs:yi}=U(),{pathExists:hi}=V(),{utimesMillis:wi}=Ve(),fe=Z();async function Si(e,t,n={}){typeof n=="function"&&(n={filter:n}),n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");let{srcStat:r,destStat:i}=await fe.checkPaths(e,t,"copy",n);if(await fe.checkParentPaths(e,r,t,"copy"),!await Bt(e,t,n))return;let s=me.dirname(t);await hi(s)||await yi(s),await Xt(i,e,t,n)}async function Bt(e,t,n){return n.filter?n.filter(e,t):!0}async function Xt(e,t,n,r){let o=await(r.dereference?N.stat:N.lstat)(t);if(o.isDirectory())return vi(o,e,t,n,r);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return gi(o,e,t,n,r);if(o.isSymbolicLink())return ki(e,t,n,r);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function gi(e,t,n,r,i){if(!t)return Gt(e,n,r,i);if(i.overwrite)return await N.unlink(r),Gt(e,n,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}async function Gt(e,t,n,r){if(await N.copyFile(t,n),r.preserveTimestamps){Fi(e.mode)&&await xi(n,e.mode);let i=await N.stat(t);await wi(n,i.atime,i.mtime)}return N.chmod(n,e.mode)}function Fi(e){return(e&128)===0}function xi(e,t){return N.chmod(e,t|128)}async function vi(e,t,n,r,i){t||await N.mkdir(r);let o=await N.readdir(n);await Promise.all(o.map(async s=>{let l=me.join(n,s),F=me.join(r,s);if(!await Bt(l,F,i))return;let{destStat:a}=await fe.checkPaths(l,F,"copy",i);return Xt(a,l,F,i)})),t||await N.chmod(r,e.mode)}async function ki(e,t,n,r){let i=await N.readlink(t);if(r.dereference&&(i=me.resolve(process.cwd(),i)),!e)return N.symlink(i,n);let o=null;try{o=await N.readlink(n)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return N.symlink(i,n);throw s}if(r.dereference&&(o=me.resolve(process.cwd(),o)),fe.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(fe.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return await N.unlink(n),N.symlink(i,n)}Yt.exports=Si});var en=d((As,Zt)=>{"use strict";var $=re(),pe=require("path"),Ti=U().mkdirsSync,Pi=Ve().utimesMillisSync,de=Z();function bi(e,t,n){typeof n=="function"&&(n={filter:n}),n=n||{},n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:r,destStat:i}=de.checkPathsSync(e,t,"copy",n);if(de.checkParentPathsSync(e,r,t,"copy"),n.filter&&!n.filter(e,t))return;let o=pe.dirname(t);return $.existsSync(o)||Ti(o),Kt(i,e,t,n)}function Kt(e,t,n,r){let o=(r.dereference?$.statSync:$.lstatSync)(t);if(o.isDirectory())return Ni(o,e,t,n,r);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return Di(o,e,t,n,r);if(o.isSymbolicLink())return Li(e,t,n,r);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function Di(e,t,n,r,i){return t?Ei(e,n,r,i):Qt(e,n,r,i)}function Ei(e,t,n,r){if(r.overwrite)return $.unlinkSync(n),Qt(e,t,n,r);if(r.errorOnExist)throw new Error(`'${n}' already exists`)}function Qt(e,t,n,r){return $.copyFileSync(t,n),r.preserveTimestamps&&Ci(e.mode,t,n),Qe(n,e.mode)}function Ci(e,t,n){return Ii(e)&&Ai(n,e),qi(t,n)}function Ii(e){return(e&128)===0}function Ai(e,t){return Qe(e,t|128)}function Qe(e,t){return $.chmodSync(e,t)}function qi(e,t){let n=$.statSync(e);return Pi(t,n.atime,n.mtime)}function Ni(e,t,n,r,i){return t?zt(n,r,i):Oi(e.mode,n,r,i)}function Oi(e,t,n,r){return $.mkdirSync(n),zt(t,n,r),Qe(n,e)}function zt(e,t,n){$.readdirSync(e).forEach(r=>Ri(r,e,t,n))}function Ri(e,t,n,r){let i=pe.join(t,e),o=pe.join(n,e);if(r.filter&&!r.filter(i,o))return;let{destStat:s}=de.checkPathsSync(i,o,"copy",r);return Kt(s,i,o,r)}function Li(e,t,n,r){let i=$.readlinkSync(t);if(r.dereference&&(i=pe.resolve(process.cwd(),i)),e){let o;try{o=$.readlinkSync(n)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return $.symlinkSync(i,n);throw s}if(r.dereference&&(o=pe.resolve(process.cwd(),o)),de.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(de.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return $i(i,n)}else return $.symlinkSync(i,n)}function $i(e,t){return $.unlinkSync(t),$.symlinkSync(e,t)}Zt.exports=bi});var Ae=d((qs,tn)=>{"use strict";var _i=D().fromPromise;tn.exports={copy:_i(Vt()),copySync:en()}});var ye=d((Ns,rn)=>{"use strict";var nn=re(),Wi=D().fromCallback;function ji(e,t){nn.rm(e,{recursive:!0,force:!0},t)}function Ji(e){nn.rmSync(e,{recursive:!0,force:!0})}rn.exports={remove:Wi(ji),removeSync:Ji}});var fn=d((Os,mn)=>{"use strict";var Mi=D().fromPromise,an=L(),cn=require("path"),ln=U(),un=ye(),on=Mi(async function(t){let n;try{n=await an.readdir(t)}catch{return ln.mkdirs(t)}return Promise.all(n.map(r=>un.remove(cn.join(t,r))))});function sn(e){let t;try{t=an.readdirSync(e)}catch{return ln.mkdirsSync(e)}t.forEach(n=>{n=cn.join(e,n),un.removeSync(n)})}mn.exports={emptyDirSync:sn,emptydirSync:sn,emptyDir:on,emptydir:on}});var hn=d((Rs,yn)=>{"use strict";var Hi=D().fromPromise,pn=require("path"),X=L(),dn=U();async function Ui(e){let t;try{t=await X.stat(e)}catch{}if(t&&t.isFile())return;let n=pn.dirname(e),r=null;try{r=await X.stat(n)}catch(i){if(i.code==="ENOENT"){await dn.mkdirs(n),await X.writeFile(e,"");return}else throw i}r.isDirectory()?await X.writeFile(e,""):await X.readdir(n)}function Gi(e){let t;try{t=X.statSync(e)}catch{}if(t&&t.isFile())return;let n=pn.dirname(e);try{X.statSync(n).isDirectory()||X.readdirSync(n)}catch(r){if(r&&r.code==="ENOENT")dn.mkdirsSync(n);else throw r}X.writeFileSync(e,"")}yn.exports={createFile:Hi(Ui),createFileSync:Gi}});var xn=d((Ls,Fn)=>{"use strict";var Bi=D().fromPromise,wn=require("path"),K=L(),Sn=U(),{pathExists:Xi}=V(),{areIdentical:gn}=Z();async function Yi(e,t){let n;try{n=await K.lstat(t)}catch{}let r;try{r=await K.lstat(e)}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}if(n&&gn(r,n))return;let i=wn.dirname(t);await Xi(i)||await Sn.mkdirs(i),await K.link(e,t)}function Vi(e,t){let n;try{n=K.lstatSync(t)}catch{}try{let o=K.lstatSync(e);if(n&&gn(o,n))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let r=wn.dirname(t);return K.existsSync(r)||Sn.mkdirsSync(r),K.linkSync(e,t)}Fn.exports={createLink:Bi(Yi),createLinkSync:Vi}});var kn=d(($s,vn)=>{"use strict";var Q=require("path"),he=L(),{pathExists:Ki}=V(),Qi=D().fromPromise;async function zi(e,t){if(Q.isAbsolute(e)){try{await he.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:e,toDst:e}}let n=Q.dirname(t),r=Q.join(n,e);if(await Ki(r))return{toCwd:r,toDst:e};try{await he.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:e,toDst:Q.relative(n,e)}}function Zi(e,t){if(Q.isAbsolute(e)){if(!he.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}let n=Q.dirname(t),r=Q.join(n,e);if(he.existsSync(r))return{toCwd:r,toDst:e};if(!he.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:Q.relative(n,e)}}vn.exports={symlinkPaths:Qi(zi),symlinkPathsSync:Zi}});var bn=d((_s,Pn)=>{"use strict";var Tn=L(),eo=D().fromPromise;async function to(e,t){if(t)return t;let n;try{n=await Tn.lstat(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}function no(e,t){if(t)return t;let n;try{n=Tn.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}Pn.exports={symlinkType:eo(to),symlinkTypeSync:no}});var In=d((Ws,Cn)=>{"use strict";var ro=D().fromPromise,Dn=require("path"),G=L(),{mkdirs:io,mkdirsSync:oo}=U(),{symlinkPaths:so,symlinkPathsSync:ao}=kn(),{symlinkType:co,symlinkTypeSync:lo}=bn(),{pathExists:uo}=V(),{areIdentical:En}=Z();async function mo(e,t,n){let r;try{r=await G.lstat(t)}catch{}if(r&&r.isSymbolicLink()){let[l,F]=await Promise.all([G.stat(e),G.stat(t)]);if(En(l,F))return}let i=await so(e,t);e=i.toDst;let o=await co(i.toCwd,n),s=Dn.dirname(t);return await uo(s)||await io(s),G.symlink(e,t,o)}function fo(e,t,n){let r;try{r=G.lstatSync(t)}catch{}if(r&&r.isSymbolicLink()){let l=G.statSync(e),F=G.statSync(t);if(En(l,F))return}let i=ao(e,t);e=i.toDst,n=lo(i.toCwd,n);let o=Dn.dirname(t);return G.existsSync(o)||oo(o),G.symlinkSync(e,t,n)}Cn.exports={createSymlink:ro(mo),createSymlinkSync:fo}});var _n=d((js,$n)=>{"use strict";var{createFile:An,createFileSync:qn}=hn(),{createLink:Nn,createLinkSync:On}=xn(),{createSymlink:Rn,createSymlinkSync:Ln}=In();$n.exports={createFile:An,createFileSync:qn,ensureFile:An,ensureFileSync:qn,createLink:Nn,createLinkSync:On,ensureLink:Nn,ensureLinkSync:On,createSymlink:Rn,createSymlinkSync:Ln,ensureSymlink:Rn,ensureSymlinkSync:Ln}});var qe=d((Js,Wn)=>{function po(e,{EOL:t=`
`,finalEOL:n=!0,replacer:r=null,spaces:i}={}){let o=n?t:"";return JSON.stringify(e,r,i).replace(/\n/g,t)+o}function yo(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}Wn.exports={stringify:po,stripBom:yo}});var Hn=d((Ms,Mn)=>{var se;try{se=re()}catch{se=require("fs")}var Ne=D(),{stringify:jn,stripBom:Jn}=qe();async function ho(e,t={}){typeof t=="string"&&(t={encoding:t});let n=t.fs||se,r="throws"in t?t.throws:!0,i=await Ne.fromCallback(n.readFile)(e,t);i=Jn(i);let o;try{o=JSON.parse(i,t?t.reviver:null)}catch(s){if(r)throw s.message=`${e}: ${s.message}`,s;return null}return o}var wo=Ne.fromPromise(ho);function So(e,t={}){typeof t=="string"&&(t={encoding:t});let n=t.fs||se,r="throws"in t?t.throws:!0;try{let i=n.readFileSync(e,t);return i=Jn(i),JSON.parse(i,t.reviver)}catch(i){if(r)throw i.message=`${e}: ${i.message}`,i;return null}}async function go(e,t,n={}){let r=n.fs||se,i=jn(t,n);await Ne.fromCallback(r.writeFile)(e,i,n)}var Fo=Ne.fromPromise(go);function xo(e,t,n={}){let r=n.fs||se,i=jn(t,n);return r.writeFileSync(e,i,n)}var vo={readFile:wo,readFileSync:So,writeFile:Fo,writeFileSync:xo};Mn.exports=vo});var Gn=d((Hs,Un)=>{"use strict";var Oe=Hn();Un.exports={readJson:Oe.readFile,readJsonSync:Oe.readFileSync,writeJson:Oe.writeFile,writeJsonSync:Oe.writeFileSync}});var Re=d((Us,Yn)=>{"use strict";var ko=D().fromPromise,ze=L(),Bn=require("path"),Xn=U(),To=V().pathExists;async function Po(e,t,n="utf-8"){let r=Bn.dirname(e);return await To(r)||await Xn.mkdirs(r),ze.writeFile(e,t,n)}function bo(e,...t){let n=Bn.dirname(e);ze.existsSync(n)||Xn.mkdirsSync(n),ze.writeFileSync(e,...t)}Yn.exports={outputFile:ko(Po),outputFileSync:bo}});var Kn=d((Gs,Vn)=>{"use strict";var{stringify:Do}=qe(),{outputFile:Eo}=Re();async function Co(e,t,n={}){let r=Do(t,n);await Eo(e,r,n)}Vn.exports=Co});var zn=d((Bs,Qn)=>{"use strict";var{stringify:Io}=qe(),{outputFileSync:Ao}=Re();function qo(e,t,n){let r=Io(t,n);Ao(e,r,n)}Qn.exports=qo});var er=d((Xs,Zn)=>{"use strict";var No=D().fromPromise,_=Gn();_.outputJson=No(Kn());_.outputJsonSync=zn();_.outputJSON=_.outputJson;_.outputJSONSync=_.outputJsonSync;_.writeJSON=_.writeJson;_.writeJSONSync=_.writeJsonSync;_.readJSON=_.readJson;_.readJSONSync=_.readJsonSync;Zn.exports=_});var or=d((Ys,ir)=>{"use strict";var Oo=L(),tr=require("path"),{copy:Ro}=Ae(),{remove:rr}=ye(),{mkdirp:Lo}=U(),{pathExists:$o}=V(),nr=Z();async function _o(e,t,n={}){let r=n.overwrite||n.clobber||!1,{srcStat:i,isChangingCase:o=!1}=await nr.checkPaths(e,t,"move",n);await nr.checkParentPaths(e,i,t,"move");let s=tr.dirname(t);return tr.parse(s).root!==s&&await Lo(s),Wo(e,t,r,o)}async function Wo(e,t,n,r){if(!r){if(n)await rr(t);else if(await $o(t))throw new Error("dest already exists.")}try{await Oo.rename(e,t)}catch(i){if(i.code!=="EXDEV")throw i;await jo(e,t,n)}}async function jo(e,t,n){return await Ro(e,t,{overwrite:n,errorOnExist:!0,preserveTimestamps:!0}),rr(e)}ir.exports=_o});var ur=d((Vs,lr)=>{"use strict";var ar=re(),et=require("path"),Jo=Ae().copySync,cr=ye().removeSync,Mo=U().mkdirpSync,sr=Z();function Ho(e,t,n){n=n||{};let r=n.overwrite||n.clobber||!1,{srcStat:i,isChangingCase:o=!1}=sr.checkPathsSync(e,t,"move",n);return sr.checkParentPathsSync(e,i,t,"move"),Uo(t)||Mo(et.dirname(t)),Go(e,t,r,o)}function Uo(e){let t=et.dirname(e);return et.parse(t).root===t}function Go(e,t,n,r){if(r)return Ze(e,t,n);if(n)return cr(t),Ze(e,t,n);if(ar.existsSync(t))throw new Error("dest already exists.");return Ze(e,t,n)}function Ze(e,t,n){try{ar.renameSync(e,t)}catch(r){if(r.code!=="EXDEV")throw r;return Bo(e,t,n)}}function Bo(e,t,n){return Jo(e,t,{overwrite:n,errorOnExist:!0,preserveTimestamps:!0}),cr(e)}lr.exports=Ho});var fr=d((Ks,mr)=>{"use strict";var Xo=D().fromPromise;mr.exports={move:Xo(or()),moveSync:ur()}});var tt=d((Qs,pr)=>{"use strict";pr.exports={...L(),...Ae(),...fn(),..._n(),...er(),...U(),...fr(),...Re(),...V(),...ye()}});var ds={};Hr(ds,{default:()=>ps});module.exports=Ur(ds);var H=require("@raycast/api");var ce=require("@raycast/api");var wt=We(require("node:process"),1),St=require("node:util"),je=require("node:child_process"),Gr=(0,St.promisify)(je.execFile);async function gt(e,{humanReadableOutput:t=!0}={}){if(wt.default.platform!=="darwin")throw new Error("macOS only");let n=t?[]:["-ss"],{stdout:r}=await Gr("osascript",["-e",e,n]);return r.trim()}var M=require("@raycast/api"),qr=We(tt());var mt=We(tt());var ft=require("@raycast/api"),cs=require("react");var v="file-icons/",we=[{name:"Text",extension:"txt",languageId:"plaintext",keywords:["plaintext"],icon:v+"text.png",inputContent:!0},{name:"RTF",extension:"rtf",languageId:"rtf",keywords:[],icon:v+"rtf.png",inputContent:!1},{name:"Markdown",extension:"md",languageId:"markdown",keywords:[],icon:v+"markdown.png",inputContent:!0},{name:"Word",extension:"docx",languageId:"docx",keywords:["docx"],icon:v+"word.png",inputContent:!1},{name:"PowerPoint",extension:"pptx",languageId:"pptx",keywords:["pptx"],icon:v+"ppt.png",inputContent:!1},{name:"Excel",extension:"xlsx",languageId:"xlsx",keywords:["xlsx"],icon:v+"excel.png",inputContent:!1}],Se=[{name:"Java",extension:"java",languageId:"java",keywords:[],icon:v+"java.svg",inputContent:!0},{name:"Javascript",extension:"js",languageId:"javascript",keywords:[],icon:v+"javascript.svg",inputContent:!0},{name:"Typescript",extension:"ts",languageId:"typescript",keywords:[],icon:v+"typescript.svg",inputContent:!0},{name:"JSON",extension:"json",languageId:"json",keywords:[],icon:v+"json.svg",inputContent:!0},{name:"XML",extension:"xml",languageId:"xml",keywords:[],icon:v+"xml.svg",inputContent:!0},{name:"CSS",extension:"css",languageId:"css",keywords:[],icon:v+"css.svg",inputContent:!0},{name:"Html",extension:"html",languageId:"html",keywords:[],icon:v+"html.svg",inputContent:!0},{name:"SVG",extension:"svg",languageId:"svg",keywords:[],icon:v+"svg.svg",inputContent:!0}],ge=[{name:"Apple",extension:"applescript",languageId:"applescript",keywords:["script"],icon:v+"applescript.svg",inputContent:!0},{name:"Groovy",extension:"groovy",languageId:"groovy",keywords:[],icon:v+"groovy.svg",inputContent:!0},{name:"Lua",extension:"lua",languageId:"lua",keywords:[],icon:v+"lua.svg",inputContent:!0},{name:"Perl",extension:"pl",languageId:"perl",keywords:[],icon:v+"perl.svg",inputContent:!0},{name:"PHP",extension:"php",languageId:"php",keywords:[],icon:v+"php.svg",inputContent:!0},{name:"Python",extension:"py",languageId:"python",keywords:[],icon:v+"python.svg",inputContent:!0},{name:"Ruby",extension:"rb",languageId:"ruby",keywords:[],icon:v+"ruby.svg",inputContent:!0},{name:"Shell",extension:"sh",languageId:"shell",keywords:["bash"],icon:v+"shell.svg",inputContent:!0}],dr=we.concat(Se).concat(ge);var nt=require("react");var hr=require("@raycast/api");var yr=require("@raycast/api");var Yo=yr.environment.supportPath+"/templates";var ss=require("@raycast/api");var xe=require("@raycast/api");var ee=require("@raycast/api"),Sr=require("react");var Fe=require("@raycast/api"),wr=require("react/jsx-runtime");var gr=require("react/jsx-runtime");var xr=require("react/jsx-runtime");var ke=require("@raycast/api");var Qo=require("react"),ve=require("@raycast/api");var vr=require("@raycast/api"),{showTips:kr,layout:it,columns:Vo,itemInset:Ko,showDocument:ot,showCode:st,showScript:at,createdAction:ct,nullArgumentsAction:Tr,defaultFileType:lt,defaultFileContent:Pr}=(0,vr.getPreferenceValues)();var br=require("react/jsx-runtime");var Er=require("react/jsx-runtime");var ut=require("@raycast/api");var $e=require("@raycast/api");var Cr=require("react/jsx-runtime");var ns=require("react/jsx-runtime");var Ir=require("react/jsx-runtime");var as=require("@raycast/api");var Ar=require("react/jsx-runtime");var ls=require("react/jsx-runtime");function pt(e,t,n){let r=mt.default.existsSync(e+t+"."+n);if(r){let i=2;for(;r;){let o=t+" "+i+"."+n;if(!mt.default.existsSync(e+o))return o;i++}return t+"-"+i+"."+n}else return t+"."+n}var J=e=>!(e!=null&&String(e).length>0),us=`
if application "Finder" is not running then
    return "Finder not running"
end if

tell application "Finder"
    return POSIX path of ((insertion location) as alias)
end tell
`,ae=async()=>{try{return await gt(us)}catch{return"Finder not running"}};async function Nr(e,t,n="",r=""){J(r)?r=pt(t,"Untitled",e):r=pt(t,r,e);let i=t+r;return qr.default.writeFileSync(i,n),{fileName:r,filePath:i}}function ms(e){let t=e.lastIndexOf(".");if(t!==-1){let n=e.substring(0,t),r=e.substring(t+1);return{baseName:n,extension:r}}return{baseName:e,extension:e}}function fs(e){return dr.find(t=>t.extension===e)}function Or(e){let{baseName:t,extension:n}=ms(e),r=fs(n.toLowerCase());if(r){if(J(t))return r;let i={...r};return t!==r.extension&&(i.name=t),i}else return{name:t,extension:n,languageId:n,keywords:[n],icon:M.Icon.Document,inputContent:!1}}var te=e=>{if(e.style&&e.style===M.Toast.Style.Failure)return(0,M.showToast)(e);if(kr)return e.style&&e.style===M.Toast.Style.Animated?(0,M.showToast)(e):(0,M.showHUD)(e.title)};var Rr=async()=>{try{let e=await(0,ce.getSelectedText)();if(!J(e))return e}catch(e){console.error(e)}try{let e=await ce.Clipboard.readText();if(e)return e}catch(e){console.error(e)}return""},Lr=async()=>{try{let t=await ce.Clipboard.readText();if(t&&!J(t))return t}catch(t){console.error(t)}let e;try{return e=await(0,ce.getSelectedText)(),e}catch(t){console.error(t)}return""};var $r=H.Toast.Style,ps=async e=>{let{fileName:t,fileContent:n}=e.arguments;if(J(t)&&J(n)&&Tr==="createWithTemplate"){await(0,H.launchCommand)({name:"new-file-with-template",type:H.LaunchType.UserInitiated,context:{navigationTitle:"New File Now"}});return}await(0,H.closeMainWindow)(),await te({title:"Creating...",style:$r.Animated});try{let r=await ae(),i="";switch(Pr){case"empty":{i="";break}case"selectedFirst":{i=await Rr();break}case"clipboardFirst":{i=await Lr();break}}let o=n||i,s=Or(t||lt),l=await Nr(s?s.extension:lt,r,s.inputContent?o:"",J(t)?o.replaceAll(".","_").substring(0,10):s?s.name:t);switch(ct){case"no":break;case"open":{await(0,H.open)(l.filePath);break}case"show":await(0,H.showInFinder)(l.filePath)}await te({title:`\u{1F4C4} ${l.fileName} created in ${r}`})}catch(r){await te({title:"Failed to create file.",style:$r.Failure}),console.error(String(r))}};
